{
    "tasks": [
        {
            "type": "shell",
            "label": "DeGSA_bison",
            "command": "bison",
            "args": [
                "-d",
                "${workspaceFolder}/parser/grammar.ypp"
            ]
        },
        {
            "type": "shell",
            "label": "DeGSA_bison_move1",
            "dependsOn": [
                "DeGSA_bison"
            ],
            "command": "mv",
            "args": [
                "${workspaceFolder}/grammar.tab.cpp",
                "${workspaceFolder}/DeGSA"
            ]
        },
        {
            "type": "shell",
            "label": "DeGSA_bison_move2",
            "dependsOn": [
                "DeGSA_bison"
            ],
            "command": "mv",
            "args": [
                "${workspaceFolder}/grammar.tab.hpp",
                "${workspaceFolder}/DeGSA"
            ]
        },

        {
            "type": "shell",
            "label": "DeGSA_flex",
            "command": "flex",
            "args": [
                "${workspaceFolder}/parser/lexics.l"
                //"-o",
                //"${workspaceFolder}/DeGSA"
            ]
        },
        {
            "type": "shell",
            "label": "DeGSA_flex_move1",
            "dependsOn": [
                "DeGSA_flex"
            ],
            "command": "mv",
            "args": [
                "${workspaceFolder}/lex.yy.c",
                "${workspaceFolder}/DeGSA"
            ]
        },


        {
            "type": "shell",
            "label": "DeGSA_preprocess",
            "command": "python3",
            "args": [
                "${workspaceFolder}/parser/pp.py",
                "${workspaceFolder}/DeGSA/luna/launchable/source.fa",
                "-o",
                "prepr.fa"
            ]
        },
        {
            "type": "shell",
            "label": "DeGSA_flex_compile",
            "dependsOn": [
                "DeGSA_flex_move1"
            ],
            "command": "g++",
            "args": [
                "-g",
                "${workspaceFolder}/DeGSA/lex.yy.c",
                "-c",
                "-o",
                "${workspaceFolder}/lex.yy.o"
            ]
        },
        {
            "type": "shell",
            "label": "DeGSA_bison_compile",
            "dependsOn": [
                "DeGSA_bison_move1",
                "DeGSA_bison_move2"
            ],
            "command": "g++",
            "args": [
                "-g",
                "${workspaceFolder}/DeGSA/grammar.tab.cpp",
                "-c",
                "-o",
                "${workspaceFolder}/grammar.tab.o"
            ]
        },
        {
            "type": "shell",
            "label": "DeGSA_precompile",
            "dependsOn": [
                "DeGSA_bison_compile",
                "DeGSA_flex_compile"
            ],
            "command": "g++",
            "args": [
                "-g",
                "-std=c++20",
                "${workspaceFolder}/DeGSA/src/main.cpp",
                "-c",
                "-o",
                "${workspaceFolder}/degsa.o"
            ]
        },
        {
            "type": "shell",
            "label": "DeGSA_compile",
            "dependsOn": [
                "DeGSA_precompile",
                "DeGSA_preprocess",
                "DeGSA_bison_compile",
                "DeGSA_flex_compile"
            ],
            "command": "g++",
            "args": [
                "-g", // add debug information
                "-I${workspaceFolder}/parser", // includes fix //todo what
                //"-Wall", // all warnings
                "-std=c++20",
                "${workspaceFolder}/DeGSA/symengine-0.14.0/build/symengine/libsymengine.a",
                "${workspaceFolder}/lex.yy.o",
                "${workspaceFolder}/grammar.tab.o",
                "${workspaceFolder}/degsa.o",
                "-lsymengine",
                "-lgmp",
                "-o",
                "${workspaceFolder}/a.out"
            ],
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "problemMatcher": [
                "$gcc"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            }
        },



        {
            "type": "shell",
            "label": "ADAPT_bison",
            "command": "bison",
            "args": [
                "-d",
                "${workspaceFolder}/parser/grammar.ypp",
                "-o",
                "${workspaceFolder}/parser/grammar.tab.cpp"
            ]
        },
        {
            "type": "shell",
            "label": "ADAPT_flex",
            "dependsOn": [
                "ADAPT_bison"
            ],
            "command": "lex",
            "args": [
                "-o",
                "${workspaceFolder}/parser/lex.yy.cpp",
                "${workspaceFolder}/parser/lexics.l"
            ]
        },
        {
            "type": "shell",
            "label": "ADAPT_python",
            "dependsOn": [
                "ADAPT_flex"
            ],
            "command": "python3",
            "args": [
                "${workspaceFolder}/parser/pp.py",
                "${workspaceFolder}/DeGSA/luna/source.fa",
                "-o",
                "prepr.fa"
            ]
        },
        {
            "type": "shell",
            "label": "ADAPT_compile",
            "dependsOn": [
                "ADAPT_python"
            ],
            "command": "g++",
            "args": [
                "-g", // add debug information
                "-I${workspaceFolder}/parser", // includes fix
                //"-Wall", // all warnings
                "-std=c++20",
                "${workspaceFolder}/parser/lex.yy.cpp",
                "${workspaceFolder}/parser/grammar.tab.cpp",
                "${workspaceFolder}/adapt.cpp",
                "${workspaceFolder}/ast_analyzer/threadpool/threadpool.cpp",
                "-o",
                "adapt.out"
            ],
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "problemMatcher": [
                "$gcc"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            }
        }
    ],
    "version": "2.0.0"
}